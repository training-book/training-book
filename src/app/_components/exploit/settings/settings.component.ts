import { Component, OnInit } from '@angular/core';
import { IonicModule, ModalController } from '@ionic/angular';
import { ModifySettingsComponent } from './modify-settings/modify-settings.component';
import { DeleteAccountComponent } from './delete-account/delete-account.component';

@Component({
  selector: 'app-settings',
  templateUrl: './settings.component.html',
  styleUrls: ['./settings.component.scss'],
  standalone: true,
  imports :[
    IonicModule
  ]
})
export class SettingsComponent  implements OnInit {

  constructor(private modalControl:ModalController) { }

  ngOnInit() {}

  async changePassword() {

    // Logique pour changer le mot de passe
    const modifyModal = await this.modalControl.create({
      component : ModifySettingsComponent,
      componentProps : {
        params : {
          what : 'pwd',
          title : 'Modifier le mot de passe',
        }
      }

    })
    await modifyModal.present();
  }

  async changeEmail() {
    // Logique pour changer l'email
    const modifyModal = await this.modalControl.create({
      component : ModifySettingsComponent,
      componentProps : {
        params : {
          what : 'mail',
          title : 'Modifier l\'adresse mail',
        }
      }

    })
    await modifyModal.present();
  }

  async deleteAccount() {
    // Logique pour supprimer le compte
    const deleteAccountModal = await this.modalControl.create({
      component : DeleteAccountComponent,

    })
    await deleteAccountModal.present();
  }

  async contactSupport() {
    // Logique pour contacter le support
  }

  closeModal(){
    this.modalControl.dismiss({
      userAction: "back"
    })
  }
}
